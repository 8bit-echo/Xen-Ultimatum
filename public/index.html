<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1,user-scalable=0" />
    <title><%= htmlWebpackPlugin.options.title %></title>
  </head>
  <body>
    <div id="app"></div>
    <script>
      function mainUpdate(type) {
        switch (type) {
          case 'weather':
            window.app.$store.commit('WEATHER_DATA', weather);
            break;

          case 'statusbar':
            window.app.$store.commit('STATUS_BAR_DATA', {
              signalBars,
              signalNetworkType,
              signalName,
              wifiStrength,
              wifiBars,
              wifiName,
              // bluetooth,
            });
            break;

          case 'battery':
            window.app.$store.commit('BATTERY_DATA', {
              batteryPercent,
              batteryCharging,
              ramFree,
              ramUsed,
              ramAvailable,
              ramPhysical,
            });

            break;

          case 'reminders':
            window.app.$store.commit('REMINDER_DATA', { reminders });
            break;

          case 'events':
            window.app.$store.commit('EVENT_DATA', { events });
            break;

          case 'music':
            window.app.$store.commit('MUSIC_DATA', {
              artist,
              album,
              title,
              isplaying,
              musicBundle,
              currentDuration,
              currentElapsedTime,
              shuffleEnabled,
              repeatEnabled,
            });
            break;

          case 'system':
            window.app.$store.commit('SYSTEM_DATA', {
              deviceName,
              deviceType,
              systemVersion,
              twentyfourhour,
              ipAddress,
              notificationShowing,
            });
            break;

          case 'alarm':
            window.app.$store.commit('ALARM_DATA', {
              alarms,
              // alarmString,
              alarmDay,
              alarmHour,
              alarmMinute,
            });
            break;

          default:
            break;
        }
      }

      function XenApi() {
        api.media.observeElapsedTime((newElapsedTime) => {
          console.log(newElapsedTime, api.media.nowPlaying.length);
          window.app.$store.commit('TRACK_PROGRESS', newElapsedTime);
        });
      }
    </script>
  </body>
</html>
